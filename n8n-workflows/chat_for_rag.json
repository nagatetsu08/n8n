[{"updatedAt":"2026-01-24T06:08:34.627Z","createdAt":"2026-01-23T14:11:46.212Z","id":"ymwU0Ax_0A-Nu5lfdJ2vN","name":"chat for RAG","description":null,"active":false,"isArchived":false,"nodes":[{"parameters":{"availableInChat":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.4,"position":[-352,-128],"id":"011a7f1d-348a-438a-8efd-c748ae88f591","name":"When chat message received","webhookId":"7c045ede-a088-4dcf-b299-8da4ae9493eb"},{"parameters":{"options":{"systemMessage":"=あなたはTOYOTAの四半期決算を分析する専門家です。\n\n指示:\n\n接続されたベクトルデータベースのツールを使用して、関連する決算情報を検索してください。\n\n検索結果に含まれる「いつの時点のデータか」「どの資料に基づいているか」というメタデータや文脈を重視して分析してください。\n\nベクトルデータベース内に存在しない情報、または不明な場合は、推測せず正直に情報が不足していることを伝えてください。\n\n回答に用いた数値や事実は、必ず検索結果に基づいたものだけに限定してください。\n\n回答構造\n\nポイント\n\nいつの四半期決算データをもとにしたか\n\n根拠となった主な数値や記述（あれば）\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":3.1,"position":[-144,-128],"id":"5fd86ef1-b2bd-4d23-82fb-ac1b6e46ce9e","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"builtInTools":{},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.3,"position":[-368,128],"id":"99faa3a3-e5c6-41ff-ae88-4a82cf940616","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"DVAeiIqbhfxukUhi","name":"OpenAi account"}}},{"parameters":{"contextWindowLength":10},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[-208,144],"id":"b6e76328-dc16-45c9-b6c1-682aff872118","name":"Simple Memory"},{"parameters":{"mode":"retrieve-as-tool","toolDescription":"serarch with Toyota quarterly financial results","qdrantCollection":{"__rl":true,"value":"n8n-test","mode":"list","cachedResultName":"n8n-test"},"options":{"contentPayloadKey":"text"}},"type":"@n8n/n8n-nodes-langchain.vectorStoreQdrant","typeVersion":1.3,"position":[48,80],"id":"f309997a-2015-4e93-9c6d-25912c85502d","name":"Qdrant Vector Store","credentials":{"qdrantApi":{"id":"XzGYhkMsMMSvIpRO","name":"QdrantApi account"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","typeVersion":1.2,"position":[80,272],"id":"653cdb17-7969-47e5-9f3d-ebe7166c2b33","name":"Embeddings OpenAI","credentials":{"openAiApi":{"id":"DVAeiIqbhfxukUhi","name":"OpenAi account"}}},{"parameters":{"content":"Answer Question with Vector Storeというのもあるが、これは「内部で別のAI(LLM)が検索結果を読み、要約した「回答」をAgentに渡す。」というもの。\n\n回答が多すぎて、まとまらないときはこのツールでAIに回答をまとめさせてから返すというやり方もあり。"},"type":"n8n-nodes-base.stickyNote","position":[352,160],"typeVersion":1,"id":"fd7150dc-35a9-45bd-9aac-40b7eb6ceb25","name":"Sticky Note"}],"connections":{"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Qdrant Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Qdrant Vector Store","type":"ai_embedding","index":0}]]}},"settings":{"executionOrder":"v1","availableInMCP":false},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"354a30a9-56d4-429f-a070-0a9f60514a4e","activeVersionId":null,"versionCounter":7,"triggerCount":0,"tags":[],"shared":[{"updatedAt":"2026-01-23T14:11:46.212Z","createdAt":"2026-01-23T14:11:46.212Z","role":"workflow:owner","workflowId":"ymwU0Ax_0A-Nu5lfdJ2vN","projectId":"qJheauVsn3s3neJo","project":{"updatedAt":"2026-01-17T16:07:02.748Z","createdAt":"2026-01-17T15:30:19.747Z","id":"qJheauVsn3s3neJo","name":"Tetsuya Nagata <nagatetsu08@gmail.com>","type":"personal","icon":null,"description":null,"creatorId":"c2e1285d-c129-4f07-b88a-fa35702a8d8d"}}]}]