[
  {
    "updatedAt": "2026-01-24T06:08:34.627Z",
    "createdAt": "2026-01-23T14:11:46.212Z",
    "id": "workflow-id-placeholder",
    "name": "chat for RAG",
    "description": null,
    "active": false,
    "isArchived": false,
    "nodes": [
      {
        "parameters": { "availableInChat": true, "options": {} },
        "type": "@n8n/n8n-nodes-langchain.chatTrigger",
        "typeVersion": 1.4,
        "position": [-352, -128],
        "id": "node-chat-trigger",
        "name": "When chat message received",
        "webhookId": "webhook-id-mask"
      },
      {
        "parameters": {
          "options": {
            "systemMessage": "=あなたはTOYOTAの四半期決算を分析する専門家です。\n\n指示:\n\n接続されたベクトルデータベースのツールを使用して、関連する決算情報を検索してください。\n\n検索結果に含まれる「いつの時点のデータか」「どの資料に基づいているか」というメタデータや文脈を重視して分析してください。\n\nベクトルデータベース内に存在しない情報、または不明な場合は、推測せず正直に情報が不足していることを伝えてください。\n\n回答に用いた数値や事実は、必ず検索結果に基づいたものだけに限定してください。\n\n回答構造\n\nポイント\n\nいつの四半期決算データをもとにしたか\n\n根拠となった主な数値や記述（あれば）\n"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 3.1,
        "position": [-144, -128],
        "id": "node-ai-agent",
        "name": "AI Agent"
      },
      {
        "parameters": {
          "model": { "__rl": true, "mode": "list", "value": "gpt-4.1-mini" },
          "builtInTools": {},
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.3,
        "position": [-368, 128],
        "id": "node-openai-model",
        "name": "OpenAI Chat Model",
        "credentials": { "openAiApi": { "id": "creds-id-placeholder", "name": "OpenAi account" } }
      },
      {
        "parameters": { "contextWindowLength": 10 },
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "typeVersion": 1.3,
        "position": [-208, 144],
        "id": "node-memory",
        "name": "Simple Memory"
      },
      {
        "parameters": {
          "mode": "retrieve-as-tool",
          "toolDescription": "serarch with Toyota quarterly financial results",
          "qdrantCollection": { "__rl": true, "value": "n8n-test", "mode": "list", "cachedResultName": "n8n-test" },
          "options": { "contentPayloadKey": "text" }
        },
        "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
        "typeVersion": 1.3,
        "position": [48, 80],
        "id": "node-qdrant-store",
        "name": "Qdrant Vector Store",
        "credentials": { "qdrantApi": { "id": "creds-id-placeholder", "name": "QdrantApi account" } }
      },
      {
        "parameters": { "options": {} },
        "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
        "typeVersion": 1.2,
        "position": [80, 272],
        "id": "node-embeddings",
        "name": "Embeddings OpenAI",
        "credentials": { "openAiApi": { "id": "creds-id-placeholder", "name": "OpenAi account" } }
      },
      {
        "parameters": {
          "content": "Answer Question with Vector Storeというのもあるが、これは「内部で別のAI(LLM)が検索結果を読み、要約した「回答」をAgentに渡す。」というもの。\n\n回答が多すぎて、まとまらないときはこのツールでAIに回答をまとめさせてから返すというやり方もあり。"
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [352, 160],
        "typeVersion": 1,
        "id": "note-1"
      }
    ],
    "connections": {
      "When chat message received": { "main": [[{ "node": "AI Agent", "type": "main", "index": 0 }]] },
      "OpenAI Chat Model": { "ai_languageModel": [[{ "node": "AI Agent", "type": "ai_languageModel", "index": 0 }]] },
      "Simple Memory": { "ai_memory": [[{ "node": "AI Agent", "type": "ai_memory", "index": 0 }]] },
      "Qdrant Vector Store": { "ai_tool": [[{ "node": "AI Agent", "type": "ai_tool", "index": 0 }]] },
      "Embeddings OpenAI": { "ai_embedding": [[{ "node": "Qdrant Vector Store", "type": "ai_embedding", "index": 0 }]] }
    },
    "settings": { "executionOrder": "v1" },
    "staticData": null,
    "meta": { "templateCredsSetupCompleted": true },
    "pinData": {},
    "versionId": "version-id-placeholder",
    "activeVersionId": null,
    "versionCounter": 7,
    "triggerCount": 0,
    "tags": [],
    "shared": [
      {
        "role": "workflow:owner",
        "workflowId": "workflow-id-placeholder",
        "projectId": "project-id-placeholder",
        "project": {
          "id": "project-id-placeholder",
          "name": "User Name",
          "type": "personal"
        }
      }
    ]
  }
]